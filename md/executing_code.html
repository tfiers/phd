

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Executing code &#8212; Voltage-to-Wiring Sim</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/my_style_mods.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/resize_retina_figures.js"></script>
    <script src="../_static/build_status.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://tfiers.github.io/voltage-to-wiring-sim/md/executing_code.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2020-07-29 • Spike-triggered averaging" href="../notebooks/2020-07-29__STA.html" />
    <link rel="prev" title="Guide to the reader" href="reader_guide.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://tfiers.github.io/voltage-to-wiring-sim/md/executing_code.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Executing code" />
<meta property="og:description" content="Executing code  You can not only read the notebooks on this website, you can also run them and play with the data inside.  There are two ways to do this:  Local" />


<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Voltage-to-Wiring Sim</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="reader_guide.html">
   Guide to the reader
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Executing code
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Reports
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-07-29__STA.html">
   2020-07-29 • Spike-triggered averaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-07-27__Synaptic_conductances.html">
   2020-07-27 • Synaptic conductances
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-07-06__Single_neuron_sim.html">
   2020-07-06 • Single neuron simulation
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Unpolished notebooks
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="unpolished_notebooks_intro.html">
   Intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/init.html">
   init.ipynb
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-08-03__units_from_scratch.html">
   2020-08-03 • Signal API prototype: units from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-07-28__Storing_in_base_units.html">
   2020-07-28 • Storing values in base units
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2020-07-05__Izhikevich_paper_accomp.html">
   2020-07-05 • Izhikevich paper testing
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div id="build-status">
  [build status]
</div>

</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/md/executing_code.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/tfiers/voltage-to-wiring-sim"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/tfiers/voltage-to-wiring-sim/issues/new?title=Issue%20on%20page%20%2Fmd/executing_code.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/tfiers/voltage-to-wiring-sim/edit/master/website/md/executing_code.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-locally">
   Running locally
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-in-the-cloud">
   Running in the cloud
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#jupyter-notebook-tips">
   Jupyter notebook tips
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#object-inspection">
     Object inspection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#debugging">
     Debugging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#timing-and-profiling">
     Timing and profiling
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="executing-code">
<h1>Executing code<a class="headerlink" href="#executing-code" title="Permalink to this headline">¶</a></h1>
<p>You can not only read the notebooks on this website, you can also run them and play with the data inside.</p>
<p>There are two ways to do this:</p>
<ol class="simple">
<li><p>Locally on your computer.</p></li>
<li><p>In the cloud, without having to install anything.</p></li>
</ol>
<div class="section" id="running-locally">
<h2>Running locally<a class="headerlink" href="#running-locally" title="Permalink to this headline">¶</a></h2>
<p>See this repository’s <a class="reference external" href="https://github.com/tfiers/voltage-to-wiring-sim#readme">README</a> for installation instructions.</p>
</div>
<div class="section" id="running-in-the-cloud">
<span id="id1"></span><h2>Running in the cloud<a class="headerlink" href="#running-in-the-cloud" title="Permalink to this headline">¶</a></h2>
<p>The technology making this possible is called ‘<a class="reference external" href="https://mybinder.org/">Binder</a>’.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Don’t rely on a Binder server for anything you want to last – each session is terminated after 10’ of inactivity.</p>
</div>
</div>
<p>Each notebook on this website contains a link (behind the <i class="fas fa-rocket"></i> icon at the top of the notebook page) to launch a Binder server. Binder will check out the repository from GitHub and install all necessary dependencies, including our custom code base. When those operations are finished, you can interact with the notebook.</p>
<div class="tip admonition">
<p class="admonition-title">Slow launch?</p>
<p>For each new commit to the repository, a new Docker image needs to be created on the Binder server. Therefore, the first time the Binder app is launched after a new commit, startup will be slower than for subsequent launches.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Why not Google Colab?</p>
<p>Google Colab does not play well with non-self-contained notebooks; i.e. those needing custom dependencies and, especially, loading code from Python files outside the notebook. Hence we do not use it, despite its boons.</p>
</div>
</div>
<div class="section" id="jupyter-notebook-tips">
<h2>Jupyter notebook tips<a class="headerlink" href="#jupyter-notebook-tips" title="Permalink to this headline">¶</a></h2>
<p>This is a short overview of tricks.<br />
For a full treatment, see the first chapter of Jake VanderPlas’s excellent “Python for Data Science Handbook”, which is freely available online <a class="reference external" href="https://jakevdp.github.io/PythonDataScienceHandbook/#Table-of-Contents">here</a>. (That chapter describes IPython. IPython is the project out of which Jupyter grew, and the current main technology behind Jupyter Python notebooks).</p>
<p>Onto the tips.</p>
<div class="section" id="object-inspection">
<h3>Object inspection<a class="headerlink" href="#object-inspection" title="Permalink to this headline">¶</a></h3>
<p>With the cursor in a code cell:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">tab</span></code> for a list of available objects, and for completion of partially typed names.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">shift-tab</span></code> with the cursor on a Python object to get help on that object (eg a method’s call signature and docstring).</p></li>
</ul>
<p>Another way to get help on an object is to prepend its name by <code class="docutils literal notranslate"><span class="pre">?</span></code>, and then run the cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>?np
</pre></div>
</div>
<p>This can also be used to get help on IPython ‘magics’ (see <a class="reference internal" href="#debugging"><span class="std std-ref">below</span></a> for examples of magics):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>?%%prun
</pre></div>
</div>
<p>Two question marks yield the source code of an object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>??v.neuron_sim.simulate_izh_neuron
</pre></div>
</div>
</div>
<div class="section" id="debugging">
<span id="id2"></span><h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<p>After a code crash, run a cell containing <code class="docutils literal notranslate"><span class="pre">%debug</span></code> to enter a debugger in post-mortem mode, allowing you to inspect variables in your crashed code. In this debugger, type <code class="docutils literal notranslate"><span class="pre">h</span></code> for a list of possible commnds. (Eg. <code class="docutils literal notranslate"><span class="pre">u</span></code> takes you up one frame in the stack trace).</p>
</div>
<div class="section" id="timing-and-profiling">
<span id="id3"></span><h3>Timing and profiling<a class="headerlink" href="#timing-and-profiling" title="Permalink to this headline">¶</a></h3>
<p>A code block can be profiled using the cell magic <code class="docutils literal notranslate"><span class="pre">prun</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">%%prun</span>
<span class="c1"># [slow code]</span>
</pre></div>
</div>
<p>This will show, for each called function, the total time spent in that function (<code class="docutils literal notranslate"><span class="pre">cumtime</span></code>), and the total time spent in that function minus time spent in subcalls (<code class="docutils literal notranslate"><span class="pre">tottime</span></code>).
For a graphical overview of this profile, including an estimated call graph (“which function called which?”), install <a class="reference external" href="https://jiffyclub.github.io/snakeviz/">snakeviz</a>, and use <code class="docutils literal notranslate"><span class="pre">%%prun</span> <span class="pre">-D</span> <span class="pre">temp.profile</span></code>. Then, in a shell, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>snakeviz temp.profile
</pre></div>
</div>
<p>Two more useful magics:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$$time</span></code> simply measures the run duration of a code block.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$$timeit</span></code> repeatedly runs a code block to get accurate timing measurements and statistics.</p></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./md"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="reader_guide.html" title="previous page">Guide to the reader</a>
    <a class='right-next' id="next-link" href="../notebooks/2020-07-29__STA.html" title="next page">2020-07-29 • Spike-triggered averaging</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Tomas Fiers<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            <script src="https://hypothes.is/embed.js" async></script>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>